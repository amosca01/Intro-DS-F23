knitr::opts_chunk$set(eval = FALSE)
library(tidyverse)
library(babynames)
babynames %>%
filter(name == "Ellis")
babynames %>%
filter(name == "Ellis") %>%
group_by(year) %>%
summarize(total_ellis_babies = sum(n))
babynames %>%
filter(name == "Ellis") %>%
group_by(year) %>%
summarize(N = n(),
ratio = sum(ifelse(sex == "F", n, 0)) /
sum(ifelse(sex == "M", n, 0)))
babynames %>%
filter(name == "Ellis") %>%
group_by(year) %>%
summarize(N = n(),
ratio = sum(ifelse(sex == "F", n, 0)) /
sum(ifelse(sex == "M", n, 0))) %>%
arrange(desc(ratio))
babynames %>%
arrange(desc(n))
babynames %>%
group_by(year) %>%
summarize(N = sum(n)) %>%
arrange(desc(n))
babynames %>%
group_by(year) %>%
summarize(N = sum(n)) %>%
arrange(desc(N))
babynames %>%
group_by(name) %>%
summarize(earliest = min(year),
latest = max(year))
babynames %>%
group_by(name) %>%
summarize(earliest = min(year),
latest = max(year)) %>%
filter(name == "Ab")
babynames %>%
group_by(name) %>%
summarize(earliest = min(year),
latest = max(year)) %>%
filter(name == "Ellis")
babynames %>%
group_by(name) %>%
summarize(earliest = min(year),
latest = max(year)) %>%
filter(name == "Ab" | name == "Ellis")
knitr::opts_chunk$set(eval = FALSE)
library(tidyverse)
library(babynames)
head(births)
census_births <- births
ssa_births <- babynames
ssa_births <- ssa_births %>%
group_by(year) %>%
summarize(N = sum(n))
census_births %>%
summarize(N = n(),
earliest = min(year),
latest = max(year))
ssa_births %>%
summarize(N = n(),
earliest = min(year),
latest = max(year))
total_births_inner <- census_births %>%
inner_join(ssa_births, by = "year")
total_births_inner %>%
summarize(N = n(),
earliest = min(year),
latest = max(year))
total_births <- census_births %>%
full_join(ssa_births, by = "year")
total_births %>%
filter(is.na(births) | is.na(N))
total_births %>%
mutate(census_equals_ssa = births == N) %>%
filter(census_equals_ssa == FALSE) %>%
summarise(num_different_counts = n())
View(total_births)
total_births %>%
mutate(census_equals_ssa = births == N) %>%
filter(census_equals_ssa == FALSE) #%>%
#summarise(num_different_counts = n())
total_births %>%
summarize( correlation = cor(births, N,
use = "complete.obs"))
library(ggplot2)
ggplot(data = total_births, aes(x = year, y = births)) +
geom_line(color = "red") +
geom_line(aes(y = N), color = "blue")
